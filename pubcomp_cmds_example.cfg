//The server should have mp_timelimit 0, mp_teams_unbalance_limit 0, sv_allow_votes 0, and mp_tournament 0 (as well as normal stuff like crits, spread, alltalk, gravetalk, no spectalk, etc.)
//The server should disable antiflood.smx and all sourcemod map plugins - it might as well disable all default sourcemod plugins. The server only needs pubcomp, soap(_tf2dm?), and mge

//changelevel cp_badlands //if the server isn't already on the correct map, change it

//mp_tournament_whitelist [whitelistfiilenamehere] //the server's config should have this, and the node server will update the text file before every match

pubcomp_reset_game_setup //call this immediately before setting up the next match - resets everything (everything) as if the plugin were reloaded; unpauses if paused
	//resets steamids whitelist, team, class, positions, class limits, game commands, and votes; unpauses if paused
	//warmup mod is overridden and therefore doesn't need to be reset

//class limits for each class in order; must be entered in this order
pubcomp_set_class_limit "1" //scout
pubcomp_set_class_limit "1" //soldier
pubcomp_set_class_limit "1" //pyro
pubcomp_set_class_limit "1" //demoman
pubcomp_set_class_limit "1" //heavy
pubcomp_set_class_limit "1" //engineer
pubcomp_set_class_limit "1" //medic
pubcomp_set_class_limit "1" //sniper
pubcomp_set_class_limit "1" //spy

pubcomp_set_warmup_mod "SOAP" //NONE, SOAP, or MGE - MGE doesn't work on my test server, needs some files - use soap for now

pubcomp_add_game_command "mp_winlimit 1" //enter the win qualifications here - this could be stopwatch instead
//I've tested winlimit working for cp (badlands) and koth (viaduct) - I don't understand a/d stopwatch, though
pubcomp_add_game_command "mp_timelimit 30" //win qualifications
// the entire game - for completely and exclusively the duration of the actual match - runs in tournament mode (0s before and 1s after)

pubcomp_set_needed_ready "12"  //set the number of players who need to .ready in order to start

//steamid, team, class, and positions MUST add players in the exact same order - class Bob, Fred, Greg; steamid Bob, Fred, Greg; team Bob, Fred, Greg, positions..

pubcomp_add_steamid "STEAM_0:0:1861376" //this player (Aarandorf) has the following settings
pubcomp_add_name "Aarandorf" //set the player's display name, for when they're not in the server - cannot have quotes
pubcomp_set_player_team "3" //blue team
pubcomp_set_player_class "2" //forced to soldier on game start
pubcomp_set_player_positions "1-2-3-4-5-6-7-8" //can play all but spy

pubcomp_add_steamid "STEAM_0:1:11565282" 
pubcomp_add_name "Vincenator // Pubcomp"
pubcomp_set_player_team "1" //spectator
pubcomp_set_player_class "0" //set class to 0 if the player's a spec
pubcomp_set_player_positions "0" //set positions to 0 if the player's a spec
pubcomp_set_mentor "STEAM_0:1:11565282" //the player already added with this steamid - who should be on team 1 with class and position 0 - will have his say (not teamsay) comments in spec logged during the match
//if you're mentor and on team spec (1), then all of your all chat comments on spec during the match are logged

pubcomp_add_steamid "STEAM_0:1:5937422" //this player (parable) has the following settings
pubcomp_add_name "Parable // PubComp.com"
pubcomp_set_player_team "2" //red team
pubcomp_set_player_class "3" //forced to pyro on game start
pubcomp_set_player_positions "1-2-3" //can play scout, soldier, and pyro

//for a total of 12 players, plus specs/mentors

pubcomp_kick_all_nonwhitelist //kicks all players not on the whitelist - call this after adding the new whitelist so nobody has to rejoin

pubcomp_let_players_ready //allows players to .ready up and start the game - if called any time during or immediately after a match, resets for an exact rematch; unpauses if paused

//pubcomp_replace_steamid_sub "STEAM_0:1:19898111" "STEAM_0:1:23738921" "clorg" //replaces first player (rays) with second player (clorg) in whitelist and, if applicable, dropped players list; for when ray drops and is subbed by clorg; name replaced too